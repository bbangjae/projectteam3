<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace= "com.spring_boot.projectTeam.dao.IBookStatDAO_c">
	<resultMap id="bookResult" type="com.spring_boot.projectTeam.model.mybookVO" >
  		<result property="memId"  column="memId"  />
  		<result property="stats"  column="stats"  />
  		<result property="bookId"  column="bookId"  />
  	</resultMap>
  	
	<resultMap id="bookInfoResult" type="com.spring_boot.projectTeam.model.BookInfoVO_b" >
  		<result property="bookId"  column="bookId"  />
  		<result property="memId"  column="memId"  />
  		<result property="bookName"  column="bookName"  />
  		<result property="bookAuthor"  column="bookAuthor"  />
  		<result property="bookPublish"  column="bookPublish"  />
  		<result property="bookctg"  column="bookctg"  />
  		<result property="bookImg"  column="bookImg"  />
  		<result property="bookDis"  column="bookDis"  />
  	
  	</resultMap>
  	
	<!--  보유중인 도서 확인-->
	<select id="statList0" parameterType="String" resultType="int">
		SELECT count(*) FROM mybook WHERE stats=0 and memId=#{memId}	
	</select>
	<select id="statList2" parameterType="String" resultType="int">
		SELECT count(*) FROM mybook WHERE stats=2 and memId=#{memId}	
	</select>
	<select id="statList3" parameterType="String" resultType="int">
		SELECT count(*) FROM mybook WHERE stats=3 and memId=#{memId}	
	</select>
	<select id="ownBookData"  parameterType="hashmap" resultMap="bookInfoResult">
	SELECT bookName, bookImg, bookDis, bookctg FROM bookInfo WHERE memId=#{memId}
	</select>



  
</mapper>